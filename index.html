<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Agendamiento de citas</title>

<!-- FAVICON 🧠 -->
<link rel="icon" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
  <text y='.9em' font-size='90'>🧠</text>
</svg>">

<script src="https://cdn.tailwindcss.com"></script>

<style>
:root {
  --principal: #5B4B8A;
}
.active {
  background-color: var(--principal);
  color: white;
}
</style>

<script>
const profesionales = [
   {
    nombre: "Carol Cano",
    color: "#5B4B8A",
    calendly: "https://calendly.com/milena-cogniversos/40min",
    gcal: "https://calendar.google.com/calendar/embed?src=milena.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "Lunes y miércoles 10:00 am – 7:00 pm · Martes, jueves y viernes 9:00 am – 6:00 pm",
    llavePago: "@LB3214854579"
  },
  {
    nombre: "Lorena Gonzalez",
    color: "#4CAF50",
    calendly: "https://calendly.com/lorenag-cogniversos/sesion-terapia",
    gcal: "https://calendar.google.com/calendar/embed?src=lorenag.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "Lunes a sábado 9:00 am 12pm – 6:00 a 9 pm",
    llavePago: "@LB3214854579"
  },
  {
    nombre: "Karen Useche",
    color: "#2196F3",
    calendly: "https://calendly.com/karen-cogniversos/sesion-terapia",
    gcal: "https://calendar.google.com/calendar/embed?src=karen.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "lunes a viernes 3:40 a 8pm",
    llavePago: "@LB3143260828"
  },
  {
    nombre: "Camila Montealegre",
    color: "#FF9800",
    calendly: "https://calendly.com/camila-cogniversos/40min",
    gcal: "https://calendar.google.com/calendar/embed?src=camila.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "Lunes a sábado 9 a 11am- 4:40 a 9pm",
    llavePago: "@LB3214854579"
  },
  {
    nombre: "María Fernanda Arboleda",
    color: "#9C27B0",
    calendly: "https://calendly.com/mafernanda-cogniversos/40min",
    gcal: "https://calendar.google.com/calendar/embed?src=mafernanda.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "Lunes, a viernes 9:40 am 11:40am – 12:00 a 5pm",
    llavePago: "@LB3143260828"
  },
  {
    nombre: "Alejandra Ospina",
    color: "#009688",
    calendly: "https://calendly.com/alejandra-cogniversos/40min",
    gcal: "https://calendar.google.com/calendar/embed?src=alejandra.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "lunes a sábado 9am a 12pm, 5pm a 9pm",
    llavePago: "@LB3214854579"
  },
  {
    nombre: "Johanna Elizalde",
    color: "#795548",
    calendly: "https://calendly.com/johanna-cogniversos/40min",
    gcal: "https://calendar.google.com/calendar/embed?src=johanna.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "Lunes a sábado 9am a 6pm",
    llavePago: "@LB3214854579"
  },
  {
    nombre: "Tatiana Cano",
    color: "#607D8B",
    calendly: "https://calendly.com/tatiana-cogniversos/40min",
    gcal: "https://calendar.google.com/calendar/embed?src=tatiana.cogniversos%40gmail.com&ctz=America%2FBogota&mode=WEEK",
    disponibilidad: "Lunes a sábado de 12 a 9pm",
    llavePago: "@LB3214854579"
  }
];

let profesionalActivo = null;

function cargarAgenda(index) {
  const p = profesionales[index];
  profesionalActivo = p;

  document.getElementById("nombreActivo").innerText = p.nombre;
  document.getElementById("nombreActivo").style.color = p.color;
  document.getElementById("calendlyFrame").src = p.calendly;
  document.getElementById("calendarFrame").src = p.gcal;
  document.getElementById("llavePago").value = p.llavePago;

  document.querySelectorAll(".btn-prof").forEach(b => b.classList.remove("active"));
  document.getElementById(`btn-${index}`).classList.add("active");

  generarMensaje();
}

function generarMensaje() {
  if (!profesionalActivo) return;

  const fecha = document.getElementById("fecha").value;
  const hora = document.getElementById("hora").value;
  const meet = document.getElementById("meet").value;
  const llave = document.getElementById("llavePago").value;

  document.getElementById("mensaje").value = `
Te confirmo la cita
${fecha}, ${hora}
Psicóloga: ${profesionalActivo.nombre}
Link de Google Meet: ${meet}

Recuerda que puedes hacer el pago de la sesión hasta 1 hora antes por la llave ${llave}

 En caso de que necesites cancelar o reagendar, debes hacerlo con mínimo 12 horas de anticipación. Si lo haces después de este tiempo, deberás asumir el costo total de la sesión, dado que ese espacio ya estaba reservado en la agenda de la psicóloga 😊
`.trim();
}

function copiarMensaje() {
  navigator.clipboard.writeText(document.getElementById("mensaje").value);
  alert("Mensaje copiado ✅");
}
/* 🔑 ATAJOS DE TECLADO 1–8 */
document.addEventListener("keydown", (e) => {

  // 🚫 Si está escribiendo en un input o textarea, no hacer nada
  const tag = e.target.tagName.toLowerCase();
  if (tag === "input" || tag === "textarea") return;

  const n = parseInt(e.key);
  if (!isNaN(n) && n >= 1 && n <= profesionales.length) {
    cargarAgenda(n - 1);
  }
});
</script>
</head>

<body class="bg-gray-100 h-screen overflow-hidden">

<header class="bg-white shadow px-6 py-4 border-b-4" style="border-color: var(--principal)">
  <h1 class="text-2xl font-bold text-[var(--principal)]">Agendamiento de citas</h1>
</header>

<main class="flex h-[calc(100vh-90px)]">

  <!-- COLUMNA IZQUIERDA -->
  <aside class="w-1/3 bg-white border-r p-4 overflow-y-auto">
    <h2 class="font-semibold mb-3">Profesionales</h2>

    <div class="space-y-2 mb-4">
      <script>
        profesionales.forEach((p, i) => {
          document.write(`
            <button id="btn-${i}" onclick="cargarAgenda(${i})"
            class="btn-prof w-full text-left px-4 py-2 rounded hover:bg-gray-100">
              ${p.nombre}
            </button>
          `);
        });
      </script>
    </div>

    <h3 id="nombreActivo" class="font-bold mb-2">Copia el mensaje para Whatsapp</h3>

    <input id="fecha" placeholder="Fecha" class="border p-2 w-full mb-2" oninput="generarMensaje()">
    <input id="hora" placeholder="Hora" class="border p-2 w-full mb-2" oninput="generarMensaje()">
    <input id="meet" placeholder="Link Meet" class="border p-2 w-full mb-2" oninput="generarMensaje()">
    <input id="llavePago" class="border p-2 w-full mb-2" oninput="generarMensaje()">

    <textarea id="mensaje" class="w-full h-40 border p-2 mb-2" readonly></textarea>

    <button onclick="copiarMensaje()" class="w-full bg-purple-600 text-white py-2 rounded">
      Copiar mensaje
    </button>
  </aside>

  <!-- COLUMNA DERECHA -->
  <section class="flex-1 grid grid-cols-2 gap-2 p-4">
    <iframe id="calendlyFrame" class="w-full h-full border rounded"></iframe>
    <iframe id="calendarFrame" class="w-full h-full border rounded"></iframe>
  </section>

</main>
</body>
</html>
